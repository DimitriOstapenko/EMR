<%= simple_form_for (@patient) do |f| %>
  <%= f.error_notification %>
  <%# render 'shared/error_messages', object: f.object %>
  
  <%= f.hidden_field :pat_type, value: HCP_PATIENT %>
  <%= f.hidden_field :country, value: 'Canada' %>
  <%= f.hidden_field :email %>
  <%= f.hidden_field :mname %>
  <%= f.hidden_field :maid_name %>
  <%= f.hidden_field :notes %>

  <!-- Row 1 -->
  
<div class="row">
  <div class="col-sm-3">
     <%= f.input :lname, hint: 'Required'%>
  </div>

  <div class="col-sm-3">
  <%= f.input :fname %>
  </div>

  <div class="col-sm-2">
  <%= f.input :sex, collection: SEXES, hint: 'Required', label: 'Gender', include_blank: false %>
  </div>
  
  <div class="col-sm-3">
  <%= f.input :dob, as: :date, start_year: 1915, end_year: Date.today.year, hint: 'Required', html5: true %>
  </div>
</div>  
  
<div class="row">
  <div class="col-sm-3" id="ifh_number", style="display:none;">
  <%= f.input :ifh_number, label:'IFH Number', hint: 'Required *' %>
  </div>

  <div class="col-sm-3" id="ohip_number">
  <%= f.input :ohip_num, label: 'Health Card Number', hint: 'Required ' %>
  </div>

  <div class="col-md-1" id="ohip_ver">
     <%= f.input :ohip_ver, label: 'Version', hint: "2 letr" %>
  </div>

  <div class="col-md-2 col-sm-2" id="hin_prov" >
  <%= f.input :hin_prov, collection: PROVINCES, label: 'Card Province', include_blank: false %>
  </div>
  
  <div class="col-md-3 col-sm-3" id="hin_expiry">
     <%= f.input :hin_expiry, start_year: Date.today.year, end_year: Date.today.year+5, html5: true, label: "Expires On", hint: 'Required' %>
  </div>
  
  
</div>
  
<!-- Row 3 -->
<div class="row">

  <div class="col-sm-6">
  <%= f.input :addr, label: 'Street Address' %>
  </div>
  
  <div class="col-sm-3">
  <%= f.input :city %>
  </div>
  
  <div class="col-md-1 col-sm-1">
  <%= f.input :prov, collection: PROVINCES, include_blank: true %>
  </div>
  
  <div class="col-sm-2">
  <%= f.input :postal, label: 'Postal/ZIP' %>
  </div>
</div>

<!-- Row 4 -->

<div class="row">
  <div class="col-sm-2">
  <%# f.input :family_dr, label: 'Family Doctor' #%>
  <%= f.input :family_dr, label: 'Family Doctor', collection: Doctor.all, hint:'Optional', label_method: :lname, value_method: :lname, prompt: 'Select' %>
  </div>
  
  <div class="col-sm-2">
  <%= f.input :phone, as: :tel, label: 'Home Phone', value: num_to_phone(@patient.phone) %>
  </div>
  
  <div class="col-sm-2">
  <%= f.input :mobile, as: :tel, value: num_to_phone(@patient.mobile), hint: "Optional" %>
  </div>
  
  <div class="col-sm-2">
  <%= f.input :pharmacy, label:'Pharmacy name', hint: 'Optional' %>
  </div>
  
  <div class="col-sm-2">
  <%= f.input :pharm_phone, as: :tel, label: 'Pharm. Phone', value: num_to_phone(@patient.pharm_phone), hint: 'Optional' %>
  </div>
  
  <div class="col-sm-2">
  <%= f.input :pharm_fax, as: :tel, label: 'Pharm. Fax', value: num_to_phone(@patient.pharm_fax), hint: 'Optional' %>
  </div>
  
</div>
  
<!-- Row 6 -->  
<div class="row">
  <div class="col-sm-12">
  <%= f.input :allergies, label: 'Allergies, if any', hint: 'Optional'  %>
  </div>
</div>

<!-- Row 7 -->
<div class="row">
  <div class="col-sm-12">
  <%= f.input :meds, label: 'List of current medications', hint: 'Optional'  %>
  </div>
</div>

<div class="row">
  <div class="col-md-12 col-xs-12">
  <%= f.button :submit, 'Save Record', class: "btn btn-primary" %>
  </div>
</div>

<% end %>

<script defer>
//$('body').tooltip({ selector: "[data-toggle~='tooltip']"});
//$(document).ready(function () {
// Show maiden name text field for female patients 
//   var sex = $('select[name="patient[sex]"]');
	
//   (sex.val() =='F') ? $('#maiden_name').show() : $('#maiden_name').hide();
//   sex.change(function () {
//     (sex.val() =='F') ? $('#maiden_name').show() : $('#maiden_name').hide();
//   });

//});
</script>

