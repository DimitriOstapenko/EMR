<%= form_for [@patient, @visit]  do |f| %> 
  <%= render 'shared/error_messages', object: f.object %>

  <%= f.label "Doctor", class: "col-sm-2 control-label" %>
  <div class="col-sm-10">
  <%= f.collection_select(:doc_id, get_active_doctors, :id, :lname)  %>
  </div>

  <%= f.label "Diagnosis", class: "col-sm-2 control-label" %>
  <div class="col-sm-10">
  <%=  f.collection_select(:diag_code, Diagnosis.all, :code, :code ) %> <!-- ,  {:selected => @visit.code}) -->
  </div>
  
  <%= f.label "Procedure", class: "col-sm-2 control-label" %>
  <div class="col-sm-10">
  <%= f.collection_select(:proc_code, Procedure.all, :code, :code)  %>
  </div>

  <%= f.label "Visit Type", class: "col-sm-2 control-label" %>
  <div class="col-sm-10">
  <%= f.text_field :vis_type, placeholder: 'Visit type', default: 'WS' %>
  </div>

  <%= f.label "Duration", class: "col-sm-2 control-label" %>
  <div class="col-sm-10">
  <%= f.text_field :duration, placeholder: 'Duration', default: '10'  %>
  </div>

  <%= f.label "Status", class: "col-sm-2 control-label" %>
  <div class="col-sm-10">
  <%= f.select :status, $statuses, placeholder: 'Status' %>
  </div>
  
  <%= f.label "Notes", class: "col-sm-2 control-label" %>
  <div class="col-sm-10">
  <%= f.text_area :notes,  cols: 25, rows:10, placeholder: 'Notes' %>
  </div>

  <div class="col-sm-2"></div>
  <div class="col-sm-10">
  <%= f.submit yield(:button_text), class: "btn btn-primary" %>
  </div

<% end %>

